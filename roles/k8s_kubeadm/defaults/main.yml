# kubeadm init config generation
# - If kubeadm_init_config_use_template=true, a built-in Jinja2 template is rendered to kubeadm_init_config_dest.
# - Otherwise, kubeadm_init_config_src is copied to kubeadm_init_config_dest.
kubeadm_init_config_use_template: true
kubeadm_init_config_src: "/root/kubeadm-init.yaml"

# Template variables (only used when kubeadm_init_config_use_template=true)
# Leave empty to auto-detect from facts.
kubeadm_advertise_address: ""
kubeadm_bind_port: 6443
kubeadm_node_name: ""
kubeadm_cluster_name: "kubernetes"
kubeadm_kubernetes_version: "1.32.11"
kubeadm_image_repository: "registry.aliyuncs.com/google_containers"
kubeadm_dns_domain: "cluster.local"
kubeadm_service_subnet: "10.96.0.0/12"
kubeadm_kubeproxy_mode: "ipvs"
kubeadm_kubelet_cgroup_driver: "systemd"
kubeadm_cri_socket: "unix:///var/run/cri-dockerd.sock"

# Calico manifest (controller-side). Recommended to place it under the project:
#   /root/ansible/files/calico.yaml
calico_manifest_src: "{{ playbook_dir }}/files/calico.yaml"
# Backward-compatible fallback if you keep it outside the project:
calico_manifest_src_fallback: "/root/calico.yaml"

# Remote destinations (on master01)
kubeadm_init_config_dest: "/root/kubeadm-init.yaml"
calico_manifest_dest: "/root/calico.yaml"

# Common
k8s_join_ttl: "24h"
k8s_cri_socket: "unix:///var/run/cri-dockerd.sock"


